<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Improving Performance, Accountability and Responsiveness in the Civil Service - Comment Analysis Report</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background-color: #f5f7fa;
            color: #2d3748;
            line-height: 1.6;
            margin: 0;
        }
        
        .header {
            background-color: white;
            border-bottom: 1px solid #e2e8f0;
            padding: 1.5rem 0;
            margin-bottom: 2rem;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        h1 {
            color: #1a202c;
            margin: 0 0 0.5rem 0;
            font-size: 1.875rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        
        h1 i {
            color: #4299e1;
        }
        
        .subtitle {
            color: #718096;
            font-size: 1rem;
            margin-bottom: 0.5rem;
        }
        
        .regulation-link {
            color: #4299e1;
            text-decoration: none;
            font-size: 0.875rem;
        }
        
        .regulation-link:hover {
            text-decoration: underline;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }
        
        .stat-card {
            background: white;
            padding: 1.5rem;
            border-radius: 0.5rem;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            border: 1px solid #e2e8f0;
            text-align: center;
            transition: all 0.2s;
        }
        
        .stat-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .stat-number {
            font-size: 2rem;
            font-weight: 700;
            color: #4299e1;
            margin-bottom: 0.25rem;
        }
        
        .stat-label {
            color: #718096;
            font-size: 0.875rem;
            font-weight: 500;
        }
        
        .section {
            background: white;
            margin: 1.5rem 0;
            padding: 1.5rem;
            border-radius: 0.5rem;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            border: 1px solid #e2e8f0;
        }
        
        h2 {
            font-size: 1.25rem;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 1.5rem;
            padding-bottom: 0.75rem;
            border-bottom: 2px solid #e2e8f0;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .filters-container {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            border: 1px solid #dee2e6;
        }
        
        .filters-header {
            font-weight: 600;
            margin-bottom: 15px;
            font-size: 1.1em;
        }
        
        .filters-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .filter-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .filter-label {
            font-weight: 500;
            color: #333;
            font-size: 0.9em;
        }
        
        .filterable {
            position: relative;
            cursor: pointer;
        }
        
        .filter-arrow {
            float: right;
            font-size: 12px;
            color: #666;
            margin-left: 8px;
            user-select: none;
        }
        
        .filter-arrow:hover {
            color: #007bff;
        }
        
        .filter-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 1px solid #ddd;
            border-radius: 4px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
            z-index: 1000;
            padding: 10px;
            min-width: 200px;
        }
        
        .filter-input {
            width: 100%;
            padding: 6px 8px;
            border: 1px solid #ced4da;
            border-radius: 4px;
            font-size: 12px;
            margin-bottom: 5px;
        }
        
        .filter-input:focus {
            outline: none;
            border-color: #007bff;
            box-shadow: 0 0 0 1px rgba(0,123,255,0.25);
        }
        
        .filter-checkbox {
            display: block;
            margin: 5px 0;
            font-size: 13px;
            cursor: pointer;
        }
        
        .filter-checkbox input {
            margin-right: 6px;
        }
        
        .checkbox-group {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.9em;
        }
        
        .checkbox-item input[type="checkbox"] {
            margin: 0;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.875rem;
        }
        
        th {
            background: #f7fafc;
            padding: 0.75rem;
            text-align: left;
            font-weight: 600;
            color: #4a5568;
            border-bottom: 2px solid #e2e8f0;
            position: sticky;
            top: 0;
            font-size: 0.875rem;
        }
        
        td {
            padding: 0.75rem;
            border-bottom: 1px solid #e2e8f0;
            vertical-align: top;
            color: #2d3748;
        }
        
        tr:nth-child(even) {
            background-color: #f7fafc;
        }
        
        tr:hover {
            background-color: #edf2f7;
        }
        
        .stance-for {
            background: #28a745;
            color: white;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 500;
        }
        
        .stance-against {
            background: #dc3545;
            color: white;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 500;
        }
        
        .stance-neutral {
            background: #ffc107;
            color: #212529;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 500;
        }
        
        .stance-unknown {
            background: #6c757d;
            color: white;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 500;
        }
        
        .stances-container {
            display: flex;
            flex-wrap: wrap;
            gap: 4px;
            max-width: 300px;
        }
        
        .stance-tag {
            background: #ebf8ff;
            color: #2c5282;
            padding: 0.25rem 0.5rem;
            border-radius: 0.375rem;
            font-size: 0.75rem;
            font-weight: 500;
            border: 1px solid #bee3f8;
        }
        
        .text-preview {
            max-width: 300px;
            max-height: 100px;
            overflow: hidden;
            font-size: 12px;
        }
        
        .comment-id {
            font-family: monospace;
            background: #f8f9fa;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 11px;
        }
        
        .comment-id {
            font-family: 'SF Mono', Monaco, monospace;
            background: #f7fafc;
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            font-size: 0.75rem;
        }
        
        .comment-id a {
            color: #4299e1;
            text-decoration: none;
        }
        
        .comment-id a:hover {
            color: #3182ce;
            text-decoration: underline;
        }
        
        .date-cell {
            white-space: nowrap;
            font-size: 12px;
        }
        
        .attachment-indicator {
            font-size: 16px;
            color: #28a745;
        }
        
        .unique-indicator {
            background: #28a745;
            color: white;
            padding: 2px 6px;
            border-radius: 8px;
            font-size: 11px;
            font-weight: 500;
        }
        
        .duplicate-indicator {
            background: #ffc107;
            color: #212529;
            padding: 2px 6px;
            border-radius: 8px;
            font-size: 11px;
            font-weight: 500;
        }
        
        .meta-info {
            background: #2d3748;
            color: white;
            padding: 1.5rem;
            border-radius: 0.5rem;
            margin-top: 2rem;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        
        .meta-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
        }
        
        .meta-item {
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
        }
        
        .meta-label {
            font-size: 0.875rem;
            opacity: 0.8;
            font-weight: 500;
        }
        
        .meta-value {
            font-weight: 600;
            font-size: 1rem;
        }
        
        .pagination-controls {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-left: auto;
        }
        
        .pagination-info {
            font-size: 14px;
            color: #666;
        }
        
        .pagination-button {
            background: #4299e1;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            cursor: pointer;
            font-size: 0.875rem;
            font-weight: 500;
            transition: all 0.2s;
        }
        
        .pagination-button:hover {
            background: #3182ce;
            transform: translateY(-1px);
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .pagination-button:disabled {
            background: #a0aec0;
            cursor: not-allowed;
            opacity: 0.6;
            transform: none;
            box-shadow: none;
        }
        
        .table-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .controls-left {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        
        button {
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 0.375rem;
            cursor: pointer;
            font-size: 0.875rem;
            font-weight: 500;
            transition: all 0.2s;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .clear-filters {
            background: #f56565;
            color: white;
            margin-right: 0.75rem;
        }
        
        .clear-filters:hover {
            background: #e53e3e;
            transform: translateY(-1px);
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .show-hide-columns {
            background: #4299e1;
            color: white;
            margin-right: 0.75rem;
        }
        
        .show-hide-columns:hover {
            background: #3182ce;
            transform: translateY(-1px);
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .column-visibility-dropdown {
            position: relative;
            display: inline-block;
        }
        
        .column-visibility-content {
            display: none;
            position: absolute;
            background-color: white;
            min-width: 250px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            z-index: 1000;
            border-radius: 4px;
            padding: 10px;
            border: 1px solid #ddd;
            top: 100%;
            left: 0;
        }
        
        .column-visibility-content.show {
            display: block;
        }
        
        .column-visibility-item {
            display: flex;
            align-items: center;
            padding: 5px 0;
            gap: 8px;
        }
        
        .column-visibility-item input[type="checkbox"] {
            margin: 0;
        }
        
        .column-visibility-item label {
            cursor: pointer;
            font-size: 14px;
            margin: 0;
        }
        
        .char-limited {
            cursor: help;
        }
        
        /* Custom tooltip styling for wider tooltips */
        .tooltip .tooltip-inner {
            max-width: 600px !important;
            width: auto !important;
            text-align: left !important;
            font-size: 13px !important;
            line-height: 1.4 !important;
            padding: 8px 12px !important;
        }
        
        /* Allow table to be wider and let columns size naturally */
        table {
            width: 100%;
            table-layout: auto;
            word-wrap: break-word;
            overflow-wrap: break-word;
        }
        
        /* Only constrain the comment column to prevent it from being too wide */
        th[data-column="5"] {
            width: 25%;
            max-width: 400px;
        }
        
        .text-preview {
            max-width: 400px;
            word-wrap: break-word;
            overflow-wrap: break-word;
        }
        
        /* Co-occurrence table styles */
        .cooccurrence-table {
            border-collapse: collapse;
            font-size: 12px;
            margin: 0 auto;
        }
        
        .cooccurrence-table th,
        .cooccurrence-table td {
            border: 1px solid #dee2e6;
            text-align: center;
            padding: 8px;
            min-width: 40px;
        }
        
        .cooccurrence-table .stance-label {
            text-align: left;
            font-weight: 500;
            max-width: 200px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .rotate-header {
            height: 150px;
            white-space: nowrap;
            vertical-align: bottom;
        }
        
        .rotate-header > div {
            transform: translate(15px, 65px) rotate(-45deg);
            width: 30px;
            transform-origin: bottom left;
            font-size: 11px;
            font-weight: 500;
        }
        
        .diagonal-cell {
            background-color: #f8f9fa;
            font-weight: bold;
            color: #333;
        }
        
        .cooccurrence-cell {
            color: #333;
            font-weight: 500;
        }
        
    </style>
</head>
<body>
    <div class="header">
        <div class="container">
            <h1><i class="fas fa-chart-bar"></i> Improving Performance, Accountability and Responsiveness in the Civil Service</h1>
            <div class="subtitle">This regulation proposes changes aimed at enhancing the performance and accountability of civil service employees, amidst public comments expressing concerns about potential impacts on government integrity and employee loyalty.</div>
            <div class="regulation-link">OPM Docket: <a href="https://www.regulations.gov/docket/OPM-2025-0004" target="_blank" class="regulation-link">OPM-2025-0004</a></div>
        </div>
    </div>
    
    <div class="container">
        
        <!-- Summary Statistics -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-number">10</div>
                <div class="stat-label">Total Comments</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">0</div>
                <div class="stat-label">With Attachments</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">May 15, 2025 to June 10, 2025</div>
                <div class="stat-label">Date Range</div>
            </div>
        </div>


        <!-- Analysis Field Distributions -->
        
            <div class="section">
                <h2><i class="fas fa-tags"></i> Themes Distribution</h2>
                <p style="color: #666; margin-bottom: 20px; font-style: italic;">Click on any theme to see positions, then click positions to see relationships</p>
                <div class="theme-stances">
                    
                    <div class="theme-card">
                        <div class="theme-header" onclick="toggleThemeDetails('0')">
                            <span class="theme-name"><i class="fas fa-tag"></i> Merit-Based vs. Political Appointments</span>
                            <span class="theme-count">(1 positions)</span>
                            <span class="expand-icon" id="theme-icon-0">▼</span>
                        </div>
                        <div class="theme-details" id="theme-details-0" style="display: none;">
                            
                        <div class="position-card">
                            <div class="position-header" onclick="togglePositionDetails('0_0')">
                                <span class="position-count">5</span>
                                <span class="position-name">Oppose rule due to politicization concerns</span>
                                <span class="expand-icon" id="pos-icon-0_0">▼</span>
                            </div>
                            <div class="position-details" id="pos-details-0_0" style="display: none;">
                                <div class="agreement-item">📊 Highest agreement (20%): Impact on Scientific and Innovative Capacity: Oppose rule due to negative impact on science and innovation</div><div class="agreement-item">📊 Lowest agreement (0%): Job Security of Federal Employees: Oppose rule due to threat to job security</div>
                            </div>
                        </div>
                        </div>
                    </div>
                    <div class="theme-card">
                        <div class="theme-header" onclick="toggleThemeDetails('1')">
                            <span class="theme-name"><i class="fas fa-tag"></i> Impact on Scientific and Innovative Capacity</span>
                            <span class="theme-count">(1 positions)</span>
                            <span class="expand-icon" id="theme-icon-1">▼</span>
                        </div>
                        <div class="theme-details" id="theme-details-1" style="display: none;">
                            
                        <div class="position-card">
                            <div class="position-header" onclick="togglePositionDetails('1_0')">
                                <span class="position-count">3</span>
                                <span class="position-name">Oppose rule due to negative impact on science and innovation</span>
                                <span class="expand-icon" id="pos-icon-1_0">▼</span>
                            </div>
                            <div class="position-details" id="pos-details-1_0" style="display: none;">
                                <div class="agreement-item">📊 Highest agreement (33%): Merit-Based vs. Political Appointments: Oppose rule due to politicization concerns</div><div class="agreement-item">📊 Lowest agreement (0%): Performance and Accountability in Civil Service: Oppose rule as unnecessary for performance improvement</div>
                            </div>
                        </div>
                        </div>
                    </div>
                    <div class="theme-card">
                        <div class="theme-header" onclick="toggleThemeDetails('2')">
                            <span class="theme-name"><i class="fas fa-tag"></i> Performance and Accountability in Civil Service</span>
                            <span class="theme-count">(1 positions)</span>
                            <span class="expand-icon" id="theme-icon-2">▼</span>
                        </div>
                        <div class="theme-details" id="theme-details-2" style="display: none;">
                            
                        <div class="position-card">
                            <div class="position-header" onclick="togglePositionDetails('2_0')">
                                <span class="position-count">3</span>
                                <span class="position-name">Oppose rule as unnecessary for performance improvement</span>
                                <span class="expand-icon" id="pos-icon-2_0">▼</span>
                            </div>
                            <div class="position-details" id="pos-details-2_0" style="display: none;">
                                <div class="agreement-item">📊 Highest agreement (33%): Merit-Based vs. Political Appointments: Oppose rule due to politicization concerns</div><div class="agreement-item">📊 Lowest agreement (0%): Job Security of Federal Employees: Oppose rule due to threat to job security</div>
                            </div>
                        </div>
                        </div>
                    </div>
                    <div class="theme-card">
                        <div class="theme-header" onclick="toggleThemeDetails('3')">
                            <span class="theme-name"><i class="fas fa-tag"></i> Job Security of Federal Employees</span>
                            <span class="theme-count">(1 positions)</span>
                            <span class="expand-icon" id="theme-icon-3">▼</span>
                        </div>
                        <div class="theme-details" id="theme-details-3" style="display: none;">
                            
                        <div class="position-card">
                            <div class="position-header" onclick="togglePositionDetails('3_0')">
                                <span class="position-count">1</span>
                                <span class="position-name">Oppose rule due to threat to job security</span>
                                <span class="expand-icon" id="pos-icon-3_0">▼</span>
                            </div>
                            <div class="position-details" id="pos-details-3_0" style="display: none;">
                                <div class="agreement-item">📊 Lowest agreement (0%): Performance and Accountability in Civil Service: Oppose rule as unnecessary for performance improvement</div>
                            </div>
                        </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <style>
            .theme-stances {
                display: grid;
                gap: 15px;
            }
            
            .theme-card {
                background: white;
                border-radius: 8px;
                border-left: 4px solid #2c3e50;
                box-shadow: 0 2px 4px rgba(0,0,0,0.1);
                overflow: hidden;
            }
            
            .theme-header {
                display: flex;
                align-items: center;
                gap: 15px;
                padding: 15px;
                cursor: pointer;
                transition: background-color 0.2s;
                background: #f8f9fa;
                font-weight: 600;
            }
            
            .theme-header:hover {
                background-color: #e9ecef;
            }
            
            .theme-name {
                font-size: 1.1em;
                color: #2c3e50;
                flex: 1;
            }
            
            .theme-count {
                color: #666;
                font-size: 0.9em;
            }
            
            .theme-details {
                padding: 0 15px 15px 15px;
            }
            
            .position-card {
                background: #f8f9fa;
                border-radius: 6px;
                margin: 8px 0;
                border-left: 3px solid #3498db;
            }
            
            .position-header {
                display: flex;
                align-items: flex-start;
                gap: 12px;
                padding: 12px;
                cursor: pointer;
                transition: background-color 0.2s;
            }
            
            .position-header:hover {
                background-color: #ffffff;
            }
            
            .position-count {
                font-size: 1.4em;
                font-weight: bold;
                color: #3498db;
                min-width: 40px;
            }
            
            .position-name {
                flex: 1;
                font-weight: 500;
                color: #2c3e50;
            }
            
            .position-details {
                padding: 0 12px 12px 12px;
                background: white;
                margin: 0 12px 12px 12px;
                border-radius: 4px;
            }
            
            .agreements-header {
                font-weight: 600;
                color: #2c3e50;
                margin: 12px 0 8px 0;
                font-size: 0.9em;
            }
            
            .agreement-item {
                padding: 6px 0;
                border-bottom: 1px solid #eee;
                color: #555;
                font-size: 0.9em;
            }
            
            .agreement-item:last-child {
                border-bottom: none;
            }
            
            .no-agreements {
                padding: 10px 0;
                color: #999;
                font-style: italic;
                font-size: 0.9em;
            }
            
            .expand-icon {
                font-size: 0.8em;
                color: #666;
                transition: transform 0.2s;
                min-width: 20px;
                text-align: center;
            }
            
            .expand-icon.expanded {
                transform: rotate(180deg);
            }
            
            .connection-item {
                padding: 6px 0;
                border-bottom: 1px solid #eee;
                color: #555;
                font-size: 0.9em;
            }
            
            .connection-item:last-child {
                border-bottom: none;
            }
            
            .no-connections {
                padding: 10px 0;
                color: #999;
                font-style: italic;
                font-size: 0.9em;
            }
            </style>
            
            <script>
            function toggleThemeDetails(themeId) {
                const details = document.getElementById('theme-details-' + themeId);
                const icon = document.getElementById('theme-icon-' + themeId);
                
                if (details.style.display === 'none' || details.style.display === '') {
                    details.style.display = 'block';
                    icon.classList.add('expanded');
                } else {
                    details.style.display = 'none';
                    icon.classList.remove('expanded');
                }
            }
            
            function togglePositionDetails(positionId) {
                const details = document.getElementById('pos-details-' + positionId);
                const icon = document.getElementById('pos-icon-' + positionId);
                
                if (details.style.display === 'none' || details.style.display === '') {
                    details.style.display = 'block';
                    icon.classList.add('expanded');
                } else {
                    details.style.display = 'none';
                    icon.classList.remove('expanded');
                }
            }
            </script>


        <!-- Comments Table -->
        <div class="section">
            <h2><i class="fas fa-comments"></i> Comments</h2>
            <div class="table-controls">
                <div class="controls-left">
                    <button class="clear-filters" onclick="clearAllFilters()">Clear All Filters</button>
                    <div class="column-visibility-dropdown">
                        <button class="show-hide-columns" onclick="toggleColumnVisibility()">Show/Hide Columns</button>
                        <div class="column-visibility-content" id="columnVisibilityDropdown">
                        <div class="column-visibility-item">
                            <input type="checkbox" id="col-0" checked onchange="toggleColumn(0)">
                            <label for="col-0">Comment ID</label>
                        </div>
                        <div class="column-visibility-item">
                            <input type="checkbox" id="col-1" checked onchange="toggleColumn(1)">
                            <label for="col-1">Date</label>
                        </div>
                        <div class="column-visibility-item">
                            <input type="checkbox" id="col-2" checked onchange="toggleColumn(2)">
                            <label for="col-2">Submitter</label>
                        </div>
                        <div class="column-visibility-item">
                            <input type="checkbox" id="col-3" checked onchange="toggleColumn(3)">
                            <label for="col-3">Organization</label>
                        </div>
                        <div class="column-visibility-item">
                            <input type="checkbox" id="col-4" checked onchange="toggleColumn(4)">
                            <label for="col-4">Stances</label>
                        </div>
                        <div class="column-visibility-item">
                            <input type="checkbox" id="col-5" checked onchange="toggleColumn(5)">
                            <label for="col-5">Comment</label>
                        </div>
                        <div class="column-visibility-item">
                            <input type="checkbox" id="col-6" checked onchange="toggleColumn(6)">
                            <label for="col-6">Attachments</label>
                        </div>
                        <div class="column-visibility-item">
                            <input type="checkbox" id="col-7" checked onchange="toggleColumn(7)">
                            <label for="col-7">Dup Count</label>
                        </div>
                        <div class="column-visibility-item">
                            <input type="checkbox" id="col-8" checked onchange="toggleColumn(8)">
                            <label for="col-8">Dup Ratio</label>
                        </div>
                        <div class="column-visibility-item">
                            <input type="checkbox" id="col-9" onchange="toggleColumn(9)">
                            <label for="col-9">Attachment Text</label>
                        </div>
                        <div class="column-visibility-item">
                            <input type="checkbox" id="col-10" onchange="toggleColumn(10)">
                            <label for="col-10">Key Quote (LLM)</label>
                        </div>
                        <div class="column-visibility-item">
                            <input type="checkbox" id="col-11" onchange="toggleColumn(11)">
                            <label for="col-11">Rationale (LLM)</label>
                        </div>
                    </div>
                </div>
                </div>
                <div class="pagination-controls">
                    <span class="pagination-info">
                        Showing <span id="startRow">1</span>-<span id="endRow">20</span> of <span id="totalRows">0</span> rows
                    </span>
                    <button class="pagination-button" id="prevPage" onclick="changePage(-1)">Previous</button>
                    <button class="pagination-button" id="nextPage" onclick="changePage(1)">Next</button>
                </div>
            </div>
                
            <div style="overflow-x: auto;">
                <table id="commentsTable" class="table table-striped">
                    <thead>
                        <tr>
                            <th class="filterable" data-column="0">
                                Comment ID <span class="filter-arrow" onclick="toggleFilter(0)">▼</span>
                                <div class="filter-dropdown" id="filter-0" style="display: none;">
                                    <input type="text" class="filter-input" data-column="0" placeholder="Filter ID..." onkeyup="filterTable()">
                                </div>
                            </th>
                            <th data-column="1">Date</th>
                            <th class="filterable" data-column="2">
                                Submitter <span class="filter-arrow" onclick="toggleFilter(2)">▼</span>
                                <div class="filter-dropdown" id="filter-2" style="display: none;">
                                    <input type="text" class="filter-input" data-column="2" placeholder="Filter name..." onkeyup="filterTable()">
                                </div>
                            </th>
                            <th class="filterable" data-column="3">
                                Organization <span class="filter-arrow" onclick="toggleFilter(3)">▼</span>
                                <div class="filter-dropdown" id="filter-3" style="display: none;">
                                    <input type="text" class="filter-input" data-column="3" placeholder="Filter organization..." onkeyup="filterTable()">
                                </div>
                            </th>
                            <th class="filterable" data-column="4">
                                Stances <span class="filter-arrow" onclick="toggleFilter(4)">▼</span>
                                <div class="filter-dropdown" id="filter-4" style="display: none;"><label class="filter-checkbox"><input type="checkbox" data-filter="stances" value="Impact on Scientific and Innovative Capacity: Oppose rule due to negative impact on science and innovation" onchange="filterTable()"> Impact on Scientific and Innovative Capacity: Oppose rule due to negative impact on science and innovation</label><label class="filter-checkbox"><input type="checkbox" data-filter="stances" value="Job Security of Federal Employees: Oppose rule due to threat to job security" onchange="filterTable()"> Job Security of Federal Employees: Oppose rule due to threat to job security</label><label class="filter-checkbox"><input type="checkbox" data-filter="stances" value="Merit-Based vs. Political Appointments: Oppose rule due to politicization concerns" onchange="filterTable()"> Merit-Based vs. Political Appointments: Oppose rule due to politicization concerns</label><label class="filter-checkbox"><input type="checkbox" data-filter="stances" value="Performance and Accountability in Civil Service: Oppose rule as unnecessary for performance improvement" onchange="filterTable()"> Performance and Accountability in Civil Service: Oppose rule as unnecessary for performance improvement</label>
                                    <hr style="margin: 5px 0;">
                                    <label class="filter-checkbox"><input type="checkbox" data-filter="unusual_combo" value="yes" onchange="filterTable()"> ⚠️ Unusual Combinations</label>
                                </div>
                            </th>
                            <th class="filterable" data-column="5">
                                Comment <span class="filter-arrow" onclick="toggleFilter(5)">▼</span>
                                <div class="filter-dropdown" id="filter-5" style="display: none;">
                                    <input type="text" class="filter-input" data-column="5" placeholder="Search comment text..." onkeyup="filterTable()">
                                </div>
                            </th>
                            <th class="filterable" data-column="6">
                                Attachments <span class="filter-arrow" onclick="toggleFilter(6)">▼</span>
                                <div class="filter-dropdown" id="filter-6" style="display: none;">
                                    <label class="filter-checkbox"><input type="checkbox" data-filter="attachments" value="yes" onchange="filterTable()"> With attachments</label>
                                    <label class="filter-checkbox"><input type="checkbox" data-filter="attachments" value="no" onchange="filterTable()"> No attachments</label>
                                </div>
                            </th>
                            <th class="filterable" data-column="7">
                                Dup Count <span class="filter-arrow" onclick="toggleFilter(7)">▼</span>
                                <div class="filter-dropdown" id="filter-7" style="display: none;"><label class="filter-checkbox"><input type="checkbox" data-filter="duplication_count" value="1" onchange="filterTable()"> 1</label>
                                </div>
                            </th>
                            <th class="filterable" data-column="8">
                                Dup Ratio <span class="filter-arrow" onclick="toggleFilter(8)">▼</span>
                                <div class="filter-dropdown" id="filter-8" style="display: none;"><label class="filter-checkbox"><input type="checkbox" data-filter="duplication_ratio" value="1/10" onchange="filterTable()"> 1/10</label>
                                </div>
                            </th>
                            <th class="filterable" data-column="9" style="display: none;">
                                Attachment Text <span class="filter-arrow" onclick="toggleFilter(9)">▼</span>
                                <div class="filter-dropdown" id="filter-9" style="display: none;">
                                    <input type="text" class="filter-input" data-column="9" placeholder="Search attachment text..." onkeyup="filterTable()">
                                </div>
                            </th>
                            <th class="filterable" data-column="10" style="display: none;">
                                Key Quote <span class="filter-arrow" onclick="toggleFilter(10)">▼</span>
                                <div class="filter-dropdown" id="filter-10" style="display: none;">
                                    <input type="text" class="filter-input" data-column="10" placeholder="Search quotes..." onkeyup="filterTable()">
                                </div>
                            </th>
                            <th class="filterable" data-column="11" style="display: none;">
                                Rationale <span class="filter-arrow" onclick="toggleFilter(11)">▼</span>
                                <div class="filter-dropdown" id="filter-11" style="display: none;">
                                    <input type="text" class="filter-input" data-column="11" placeholder="Search rationale..." onkeyup="filterTable()">
                                </div>
                            </th>
                        </tr>
                    </thead>
                        <tbody>

                            <tr>
                                <td><span class="comment-id"><a href="https://www.regulations.gov/comment/OPM-2025-0004-15725" target="_blank" style="color: #007bff; text-decoration: underline;">OPM-2025-0004-15725</a></span></td>
                                <td class="date-cell">2025-05-21</td>
                                <td>Comment from Jeremy Berg</td>
                                <td></td>
                                <td><div class="stances-container"><span class="stance-tag">Impact on Scientific and Innovative Capacity: Oppose rule due to negative impact on science and innovation</span></div></td>
                                <td class="text-preview char-limited" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-html="false" title="The proposed implementation of Schedule F is unnecessary and potentially very harmful to scientific research in the United States. This is based on my service as Director of the National Institute of General Medical Sciences at the National Institutes of Health (NIH) from 2003-2011.

Effectively serving as an Institute and Centers Director (as well as a Division Director below them) requires a large amount of scientific knowledge and experience. Policy development does depends on a strong factual and scientific basis and the priorities for science do not vary rapidly over time. New opportunities and technologies emerge over time and some opportunities become less pressing due to advances. But these events are adequately covered with the existing civil service structure. The NIH Director is a political appointee and is able to communicate priorities of the administration effectively to others at NIH quite effectively, in my experience.

The potential harms from the implementation of Schedule F include rapid turnover of large numbers of key NIH leaders with each new Presidential administration. It takes time to develop the skills and knowledge to effectively function in these complicated jobs and rapid turnover and fear of political, capricious termination over issues not closely connected to science could be quite detrimental to biomedical research progress and effective use of precious taxpayer funds.

I served under two different three different NIH Directors (one of them Ac... [truncated]">The proposed implementation of Schedule F is unnecessary and potentially very harmful to scientific research in the United States. This is based on my service as Director of the National Institute of General Medical Sciences at the National Institutes of Health (NIH) from 2003-2011.

Effectively ser...</td>
                                <td></td>
                                <td><span class="unique-indicator">1</span></td>
                                <td><span class="unique-indicator">1/10</span></td>
                                <td style="display: none;"></td>
                                <td style="display: none;">The proposed implementation of Schedule F is unnecessary and potentially very harmful to scientific research in the United States.</td>
                                <td style="display: none;">The comment clearly expresses opposition to the proposed regulation by highlighting its potential negative effects on scientific research and the stability of leadership within the NIH, indicating a concern for the integrity and continuity of scientific progress.</td>
                            </tr>

                            <tr>
                                <td><span class="comment-id"><a href="https://www.regulations.gov/comment/OPM-2025-0004-10582" target="_blank" style="color: #007bff; text-decoration: underline;">OPM-2025-0004-10582</a></span></td>
                                <td class="date-cell">2025-05-15</td>
                                <td>Comment from Anonymous Anonymous</td>
                                <td></td>
                                <td><div class="stances-container"><span class="stance-tag">Merit-Based vs. Political Appointments: Oppose rule due to politicization concerns</span></div></td>
                                <td class="text-preview">Stop the politics!  Civil Servants should not be appointed to appease a particular political party.  Civil Servants are career employees whose only loyalty should be to the the citizens of the United States.  Remember, that is where we live, the USA, NOT RUSSIA!</td>
                                <td></td>
                                <td><span class="unique-indicator">1</span></td>
                                <td><span class="unique-indicator">1/10</span></td>
                                <td style="display: none;"></td>
                                <td style="display: none;">Civil Servants should not be appointed to appease a particular political party.</td>
                                <td style="display: none;">The commenter expresses strong opposition to the idea of politicizing civil service appointments, emphasizing that civil servants should prioritize their loyalty to citizens rather than political parties.</td>
                            </tr>

                            <tr>
                                <td><span class="comment-id"><a href="https://www.regulations.gov/comment/OPM-2025-0004-25479" target="_blank" style="color: #007bff; text-decoration: underline;">OPM-2025-0004-25479</a></span></td>
                                <td class="date-cell">2025-05-28</td>
                                <td>Comment from Tyrel Starks</td>
                                <td></td>
                                <td><div class="stances-container"><span class="stance-tag">Impact on Scientific and Innovative Capacity: Oppose rule due to negative impact on science and innovation</span></div></td>
                                <td class="text-preview char-limited" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-html="false" title="Many, probably the vast majority, of funded projects straddle changes in administration. Some have funded periods longer than 4 years, some simply start in one administration and end in another even if they only last 2 or 3 years. 

If every 4 years there is suddenly the risk that funded projects showing reasonable progress towards their stated goals could be terminated merely because of changes in administration, then investigators are essentially held hostage to the most extreme political opinions on both sides of the spectrum. It goes without saying that each administration will have its research priorities, and those will be reflected in calls for new proposals and the agenda for new funds. This move to make grant-making decisions policy-making decisions at all levels however is a move that politicizes science at exactly a time when the nation would be best served by the opposite instinct. 

This is a move that will ultimately harm everyone&#039;s interests and the public good. Science benefits from stability and continuity in decision making processes. There may be ways to meaningfully streamline grant review. There may even be ways to make the process more responsive to administration priorities as those change, but re-framing scientific grants as policy is deeply misguided. The US needs good science and good policy, but those two things are not the same thing. They have different perspectives on risk, they answer to the public through different mechanisms, the produce diffe... [truncated]">Many, probably the vast majority, of funded projects straddle changes in administration. Some have funded periods longer than 4 years, some simply start in one administration and end in another even if they only last 2 or 3 years. 

If every 4 years there is suddenly the risk that funded projects sh...</td>
                                <td></td>
                                <td><span class="unique-indicator">1</span></td>
                                <td><span class="unique-indicator">1/10</span></td>
                                <td style="display: none;"></td>
                                <td style="display: none;">This move to make grant-making decisions policy-making decisions at all levels however is a move that politicizes science at exactly a time when the nation would be best served by the opposite instinct.</td>
                                <td style="display: none;">The commenter expresses concern that the proposed regulation would politicize scientific funding, jeopardizing ongoing research projects and undermining the stability necessary for scientific progress. This indicates a strong opposition to the regulation based on its potential negative impact on the scientific community.</td>
                            </tr>

                            <tr>
                                <td><span class="comment-id"><a href="https://www.regulations.gov/comment/OPM-2025-0004-23683" target="_blank" style="color: #007bff; text-decoration: underline;">OPM-2025-0004-23683</a></span></td>
                                <td class="date-cell">2025-05-27</td>
                                <td>Comment from Anonymous</td>
                                <td></td>
                                <td><div class="stances-container"><span class="stance-tag">Performance and Accountability in Civil Service: Oppose rule as unnecessary for performance improvement</span></div></td>
                                <td class="text-preview char-limited" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-html="false" title="OPM Docket OPM-2025-0004 RIN 3206-AO80
The proposed policy change is unnecessary. As a union representative in a federal workplace, I have seen my agency effectively use the current performance management and discipline procedures to address poor performance and conduct issues. When these procedures are followed, conduct and performance improve, not sometimes, every time. The current procedures are both more efficient and more cost effective than the proposed change. One of the most expensive actions an employer can take is removal of an employee. The costs, both monetary and temporal, associated with hiring and training a new employee are always higher than the costs of improving performance. Additionally, if performance and conduct management procedures have been followed and do not correct the issues, removal is a simple process. Any management official who thinks removal is a challenging process is admitting they are not an effective manager, and should likely be having their own performance managed. The inefficiency I see in my federal workplace is not the result of poor performance of employees; it is the result of poor performance of management.">OPM Docket OPM-2025-0004 RIN 3206-AO80
The proposed policy change is unnecessary. As a union representative in a federal workplace, I have seen my agency effectively use the current performance management and discipline procedures to address poor performance and conduct issues. When these procedures...</td>
                                <td></td>
                                <td><span class="unique-indicator">1</span></td>
                                <td><span class="unique-indicator">1/10</span></td>
                                <td style="display: none;"></td>
                                <td style="display: none;">The proposed policy change is unnecessary. As a union representative in a federal workplace, I have seen my agency effectively use the current performance management and discipline procedures to address poor performance and conduct issues.</td>
                                <td style="display: none;">The commenter argues that the existing performance management procedures are effective and efficient, suggesting that the proposed changes are unnecessary and could disrupt a functioning system.</td>
                            </tr>

                            <tr>
                                <td><span class="comment-id"><a href="https://www.regulations.gov/comment/OPM-2025-0004-22391" target="_blank" style="color: #007bff; text-decoration: underline;">OPM-2025-0004-22391</a></span></td>
                                <td class="date-cell">2025-05-27</td>
                                <td>Comment from Anonymous</td>
                                <td></td>
                                <td><div class="stances-container"><span class="stance-tag">Merit-Based vs. Political Appointments: Oppose rule due to politicization concerns</span> <span class="stance-tag">Impact on Scientific and Innovative Capacity: Oppose rule due to negative impact on science and innovation</span></div></td>
                                <td class="text-preview char-limited" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-html="false" title="I  oppose the proposal to abolish the professional civil service as it is, because it is currently working. The professional requirements that are necessary to be hired already include the knowledge of the field they are being hired for. The only loyalty the government workers should have is to our constitution, and the laws of the land. There should not be any loyalty oath to the President, whoever they are. 

In the proposed rule, it states, &quot;As discussed in greater detail later in this proposed rulemaking, it is well documented that many career federal employees use their positions to advance their personal political or policy preferences instead of implementing the elected President&#039;s agenda. &quot; Yet there is no documentation attached that this is in fact the case. And if the elected President&#039;s agenda is illegal according to current law, the workers have an obligation to the American people to withstand it. The government works for the people and is bound by the laws, not whoever the current President is.">I  oppose the proposal to abolish the professional civil service as it is, because it is currently working. The professional requirements that are necessary to be hired already include the knowledge of the field they are being hired for. The only loyalty the government workers should have is to our ...</td>
                                <td></td>
                                <td><span class="unique-indicator">1</span></td>
                                <td><span class="unique-indicator">1/10</span></td>
                                <td style="display: none;"></td>
                                <td style="display: none;">The only loyalty the government workers should have is to our constitution, and the laws of the land.</td>
                                <td style="display: none;">The commenter opposes the proposed regulation because they believe it undermines the integrity of the civil service by prioritizing political loyalty over constitutional obligations. They express concern that the proposal lacks evidence for its claims and could harm the impartiality of government operations.</td>
                            </tr>

                            <tr>
                                <td><span class="comment-id"><a href="https://www.regulations.gov/comment/OPM-2025-0004-17405" target="_blank" style="color: #007bff; text-decoration: underline;">OPM-2025-0004-17405</a></span></td>
                                <td class="date-cell">2025-05-21</td>
                                <td>Comment from Anonymous</td>
                                <td></td>
                                <td><div class="stances-container"><span class="stance-tag">Performance and Accountability in Civil Service: Oppose rule as unnecessary for performance improvement</span></div></td>
                                <td class="text-preview char-limited" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-html="false" title="Was OPM completely off their rocker last April? How could you have published a rule that was 180 from the truth on every single topic? The text repeatedly ends by saying even if OPM didn&#039;t suddenly believe everything they said last year was a lie, the President says we&#039;re doing this and he holds all power to do so. You have not given a good explanation for why. The level of employee who holds the kind of influence that this insinuates is not a career employee. Yes, career employees can drag their feet - and there are existing methods for addressing it. If it&#039;s difficult to get rid of someone who is not performing well, then you should fix that process, not carve a random agency-selected group of policy wonks out of the process.">Was OPM completely off their rocker last April? How could you have published a rule that was 180 from the truth on every single topic? The text repeatedly ends by saying even if OPM didn't suddenly believe everything they said last year was a lie, the President says we're doing this and he holds all...</td>
                                <td></td>
                                <td><span class="unique-indicator">1</span></td>
                                <td><span class="unique-indicator">1/10</span></td>
                                <td style="display: none;"></td>
                                <td style="display: none;">If it's difficult to get rid of someone who is not performing well, then you should fix that process, not carve a random agency-selected group of policy wonks out of the process.</td>
                                <td style="display: none;">The commenter opposes the proposed regulation by arguing that existing processes for addressing employee performance issues should be improved rather than creating a new group that could undermine accountability.</td>
                            </tr>

                            <tr>
                                <td><span class="comment-id"><a href="https://www.regulations.gov/comment/OPM-2025-0004-15199" target="_blank" style="color: #007bff; text-decoration: underline;">OPM-2025-0004-15199</a></span></td>
                                <td class="date-cell">2025-05-21</td>
                                <td>Comment from Lance Lubach</td>
                                <td></td>
                                <td><div class="stances-container"><span class="stance-tag">Merit-Based vs. Political Appointments: Oppose rule due to politicization concerns</span></div></td>
                                <td class="text-preview char-limited" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-html="false" title="As a concerned citizen, I strongly oppose the proposed changes that would weaken the competitive hiring rules for career federal employees. These rules are in place to ensure that federal jobs are awarded based on merit, not political or ideological loyalty. Undermining this system could open the door to politicizing the civil service, threatening the neutrality and professionalism that are essential for a well-functioning government.

Career civil servants are the backbone of federal agencies, providing stability and continuity across changing administrations. They are not political appointees—they are skilled professionals who carry out the law and serve the public regardless of who is in office. Allowing broader reasons for dismissal and making it easier to replace them with politically aligned individuals could erode public trust and damage the long-term effectiveness of federal programs.

This proposal risks allowing fringe ideologies, including religious extremism, to influence federal policy and practice in ways that could discriminate against Americans who don’t share those beliefs. Our government must remain secular and fair in its service to all citizens. I urge the Office of Personnel Management to protect the integrity of the civil service by rejecting this proposed rule.">As a concerned citizen, I strongly oppose the proposed changes that would weaken the competitive hiring rules for career federal employees. These rules are in place to ensure that federal jobs are awarded based on merit, not political or ideological loyalty. Undermining this system could open the do...</td>
                                <td></td>
                                <td><span class="unique-indicator">1</span></td>
                                <td><span class="unique-indicator">1/10</span></td>
                                <td style="display: none;"></td>
                                <td style="display: none;">These rules are in place to ensure that federal jobs are awarded based on merit, not political or ideological loyalty.</td>
                                <td style="display: none;">The commenter expresses strong opposition to the proposed changes, emphasizing the importance of merit-based hiring and the risks of politicization in the civil service, which aligns with concerns about maintaining a neutral and professional government.</td>
                            </tr>

                            <tr>
                                <td><span class="comment-id"><a href="https://www.regulations.gov/comment/OPM-2025-0004-14271" target="_blank" style="color: #007bff; text-decoration: underline;">OPM-2025-0004-14271</a></span></td>
                                <td class="date-cell">2025-05-20</td>
                                <td>Comment from Anonymous</td>
                                <td></td>
                                <td><div class="stances-container"><span class="stance-tag">Merit-Based vs. Political Appointments: Oppose rule due to politicization concerns</span> <span class="stance-tag">Performance and Accountability in Civil Service: Oppose rule as unnecessary for performance improvement</span></div></td>
                                <td class="text-preview char-limited" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-html="false" title="The bottom line is that Schedule F would represent an unprecedented increase in politicizing the federal workforce, which would predictably undermine performance and accountability in the federal government, as well as democratic values such as transparency and the rule of law. By limiting its scope and specifying how it would work, the proposed rule has provided appropriate protection against the negative effects of Schedule F.">The bottom line is that Schedule F would represent an unprecedented increase in politicizing the federal workforce, which would predictably undermine performance and accountability in the federal government, as well as democratic values such as transparency and the rule of law. By limiting its scope...</td>
                                <td></td>
                                <td><span class="unique-indicator">1</span></td>
                                <td><span class="unique-indicator">1/10</span></td>
                                <td style="display: none;"></td>
                                <td style="display: none;">Schedule F would represent an unprecedented increase in politicizing the federal workforce, which would predictably undermine performance and accountability in the federal government, as well as democratic values such as transparency and the rule of law.</td>
                                <td style="display: none;">The commenter opposes the proposed regulation due to concerns that it would increase politicization in the federal workforce, which they believe would harm performance, accountability, and democratic values.</td>
                            </tr>

                            <tr>
                                <td><span class="comment-id"><a href="https://www.regulations.gov/comment/OPM-2025-0004-34230" target="_blank" style="color: #007bff; text-decoration: underline;">OPM-2025-0004-34230</a></span></td>
                                <td class="date-cell">2025-06-10</td>
                                <td>Comment from Judi Free</td>
                                <td></td>
                                <td><div class="stances-container"><span class="stance-tag">Merit-Based vs. Political Appointments: Oppose rule due to politicization concerns</span></div></td>
                                <td class="text-preview">This is a terrible regulation and I am against it. It will politicize public service jobs and cause unqualified people to be put in positions just because of their political affiliations. We don’t need purity tests being demanded of our hard working civil servants.</td>
                                <td></td>
                                <td><span class="unique-indicator">1</span></td>
                                <td><span class="unique-indicator">1/10</span></td>
                                <td style="display: none;"></td>
                                <td style="display: none;">It will politicize public service jobs and cause unqualified people to be put in positions just because of their political affiliations.</td>
                                <td style="display: none;">The commenter explicitly states their opposition to the regulation, citing concerns about the politicization of public service jobs and the potential for unqualified individuals to be appointed based on political affiliations.</td>
                            </tr>

                            <tr>
                                <td><span class="comment-id"><a href="https://www.regulations.gov/comment/OPM-2025-0004-10985" target="_blank" style="color: #007bff; text-decoration: underline;">OPM-2025-0004-10985</a></span></td>
                                <td class="date-cell">2025-05-15</td>
                                <td>Comment from John Linstrom</td>
                                <td></td>
                                <td><div class="stances-container"><span class="stance-tag">Job Security of Federal Employees: Oppose rule due to threat to job security</span></div></td>
                                <td class="text-preview">protect career employees from the vagaries of an elected official; remove them for an intrinsic reason, not a lack of obedience to a person or ideology.</td>
                                <td></td>
                                <td><span class="unique-indicator">1</span></td>
                                <td><span class="unique-indicator">1/10</span></td>
                                <td style="display: none;"></td>
                                <td style="display: none;">protect career employees from the vagaries of an elected official; remove them for an intrinsic reason, not a lack of obedience to a person or ideology.</td>
                                <td style="display: none;">The commenter expresses concern about the potential for job insecurity among career employees due to political influences, indicating opposition to the proposed regulation.</td>
                            </tr>

                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Meta Information -->
        <div class="meta-info">
            <h3 style="color: white; margin-bottom: 1.5rem; font-size: 1.25rem; font-weight: 600;"><i class="fas fa-info-circle"></i> Report Details</h3>
            <div class="meta-grid">
                <div class="meta-item">
                    <div class="meta-label">Generated</div>
                    <div class="meta-value">July 23, 2025 at 01:36 PM</div>
                </div>
                <div class="meta-item">
                    <div class="meta-label">Model Used</div>
                    <div class="meta-value">gpt-4o-mini</div>
                </div>
                <div class="meta-item">
                    <div class="meta-label">Total Comments</div>
                    <div class="meta-value">10</div>
                </div>
                <div class="meta-item">
                    <div class="meta-label">With Attachments</div>
                    <div class="meta-value">0</div>
                </div>
                <div class="meta-item">
                    <div class="meta-label">Date Range</div>
                    <div class="meta-value">May 15, 2025 to June 10, 2025</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Column visibility state (12 columns without new_stances)
        const columnVisibility = {
            0: true, 1: true, 2: true, 3: true, 4: true, 5: true, 6: true, 7: true, 8: true, 9: false, 10: false, 11: false
        };
        
        // Pagination state
        let currentPage = 1;
        const rowsPerPage = 20;
        let filteredRows = [];

        // Initialize column visibility on page load
        document.addEventListener('DOMContentLoaded', function() {
            for (const [col, visible] of Object.entries(columnVisibility)) {
                updateColumnVisibility(parseInt(col), visible);
                // Also update the checkbox state
                const checkbox = document.getElementById('col-' + col);
                if (checkbox) {
                    checkbox.checked = visible;
                }
            }
            
            // Initialize pagination
            filterTable();
        });

        function toggleColumnVisibility() {
            const dropdown = document.getElementById('columnVisibilityDropdown');
            dropdown.classList.toggle('show');
        }

        function toggleColumn(columnIndex) {
            const checkbox = document.getElementById('col-' + columnIndex);
            const visible = checkbox.checked;
            columnVisibility[columnIndex] = visible;
            updateColumnVisibility(columnIndex, visible);
        }

        function updateColumnVisibility(columnIndex, visible) {
            const table = document.getElementById('commentsTable');
            const rows = table.getElementsByTagName('tr');
            
            // Update header
            const headers = rows[0].getElementsByTagName('th');
            if (headers[columnIndex]) {
                headers[columnIndex].style.display = visible ? '' : 'none';
            }
            
            // Update all data rows
            for (let i = 1; i < rows.length; i++) {
                const cells = rows[i].getElementsByTagName('td');
                if (cells[columnIndex]) {
                    cells[columnIndex].style.display = visible ? '' : 'none';
                }
            }
        }

        function filterTable() {
            const table = document.getElementById('commentsTable');
            const rows = table.getElementsByTagName('tr');
            filteredRows = []; // Reset filtered rows
            
            // Get text input filters
            const textFilters = document.querySelectorAll('.filter-input');
            const textFilterValues = Array.from(textFilters).map(filter => {
                return {
                    column: parseInt(filter.getAttribute('data-column')),
                    value: filter.value.toLowerCase()
                };
            });
            
            // Get checkbox filters
            const stanceCheckboxes = document.querySelectorAll('input[data-filter="stances"]:checked');
            const unusualComboCheckboxes = document.querySelectorAll('input[data-filter="unusual_combo"]:checked');
            const attachmentCheckboxes = document.querySelectorAll('input[data-filter="attachments"]:checked');
            const duplicationCountCheckboxes = document.querySelectorAll('input[data-filter="duplication_count"]:checked');
            const duplicationRatioCheckboxes = document.querySelectorAll('input[data-filter="duplication_ratio"]:checked');
            
            const selectedStances = Array.from(stanceCheckboxes).map(cb => cb.value.toLowerCase());
            const filterUnusualCombos = unusualComboCheckboxes.length > 0;
            const selectedAttachments = Array.from(attachmentCheckboxes).map(cb => cb.value);
            const selectedDuplicationCounts = Array.from(duplicationCountCheckboxes).map(cb => parseInt(cb.value));
            const selectedDuplicationRatios = Array.from(duplicationRatioCheckboxes).map(cb => parseInt(cb.value));

            
            // Filter each row
            for (let i = 1; i < rows.length; i++) {
                const row = rows[i];
                const cells = row.getElementsByTagName('td');
                let showRow = true;

                // Check text filters
                for (const filter of textFilterValues) {
                    if (filter.value && filter.column < cells.length) {
                        const cellText = cells[filter.column].textContent.toLowerCase();
                        if (!cellText.includes(filter.value)) {
                            showRow = false;
                            break;
                        }
                    }
                }
                
                // Check stance filter (column 4)
                if (showRow && selectedStances.length > 0) {
                    const stanceText = cells[4].textContent.toLowerCase();
                    if (!selectedStances.some(stance => stanceText.includes(stance))) {
                        showRow = false;
                    }
                }
                
                // Check unusual combination filter
                if (showRow && filterUnusualCombos) {
                    const stanceCell = cells[4].innerHTML;
                    if (!stanceCell.includes('⚠️')) {
                        showRow = false;
                    }
                }
                
                
                // Column positions without new_stances
                const attachmentCol = 6;
                const dupCountCol = 7;
                const dupRatioCol = 8;
                
                // Check attachments filter
                if (showRow && selectedAttachments.length > 0) {
                    const attachmentCell = cells[attachmentCol];
                    const hasAttachment = attachmentCell.textContent.trim() !== '';
                    
                    let attachmentMatch = false;
                    for (const filter of selectedAttachments) {
                        if (filter === 'yes' && hasAttachment) {
                            attachmentMatch = true;
                            break;
                        }
                        if (filter === 'no' && !hasAttachment) {
                            attachmentMatch = true;
                            break;
                        }
                    }
                    
                    if (!attachmentMatch) {
                        showRow = false;
                    }
                }
                
                // Check duplication count filter
                if (showRow && selectedDuplicationCounts.length > 0) {
                    const duplicationCell = cells[dupCountCol];
                    const duplicationText = duplicationCell.textContent.trim();
                    const duplicationCount = parseInt(duplicationText);
                    
                    if (!selectedDuplicationCounts.includes(duplicationCount)) {
                        showRow = false;
                    }
                }
                
                // Check duplication ratio filter
                if (showRow && selectedDuplicationRatios.length > 0) {
                    const ratioCell = cells[dupRatioCol];
                    const ratioText = ratioCell.textContent.trim();
                    // Extract number after "1:" (e.g., "1:10" -> 10)
                    const ratioMatch = ratioText.match(/1:(\d+)/);
                    const ratioValue = ratioMatch ? parseInt(ratioMatch[1]) : 1;
                    
                    if (!selectedDuplicationRatios.includes(ratioValue)) {
                        showRow = false;
                    }
                }

                if (showRow) {
                    filteredRows.push(row);
                }
                row.style.display = 'none'; // Hide all rows initially
            }
            
            // Reset to first page when filtering
            currentPage = 1;
            updatePagination();
        }
        
        function toggleFilter(columnIndex) {
            const dropdown = document.getElementById('filter-' + columnIndex);
            const allDropdowns = document.querySelectorAll('.filter-dropdown');
            
            // Close all other dropdowns
            allDropdowns.forEach(dd => {
                if (dd !== dropdown) {
                    dd.style.display = 'none';
                }});
            
            // Toggle current dropdown
            dropdown.style.display = dropdown.style.display === 'none' ? 'block' : 'none';
        }
        
        function clearAllFilters() {
            const textFilters = document.querySelectorAll('.filter-input');
            // Only clear filter checkboxes, not column visibility checkboxes
            const filterCheckboxes = document.querySelectorAll('input[data-filter]');
            
            textFilters.forEach(filter => filter.value = '');
            filterCheckboxes.forEach(checkbox => checkbox.checked = false);
            
            filterTable();
        }
        
        function updatePagination() {
            const totalFilteredRows = filteredRows.length;
            const totalPages = Math.ceil(totalFilteredRows / rowsPerPage);
            
            // Update pagination info
            const startRow = totalFilteredRows === 0 ? 0 : (currentPage - 1) * rowsPerPage + 1;
            const endRow = Math.min(currentPage * rowsPerPage, totalFilteredRows);
            
            document.getElementById('startRow').textContent = startRow;
            document.getElementById('endRow').textContent = endRow;
            document.getElementById('totalRows').textContent = totalFilteredRows;
            
            // Enable/disable buttons
            document.getElementById('prevPage').disabled = currentPage === 1;
            document.getElementById('nextPage').disabled = currentPage >= totalPages || totalFilteredRows === 0;
            
            // Show only rows for current page
            filteredRows.forEach((row, index) => {
                const rowNumber = index + 1;
                const showRow = rowNumber > (currentPage - 1) * rowsPerPage && rowNumber <= currentPage * rowsPerPage;
                row.style.display = showRow ? '' : 'none';
            });
        }
        
        function changePage(direction) {
            currentPage += direction;
            updatePagination();
        }
        
        // Close dropdowns when clicking outside
        document.addEventListener('click', function(event) {
            const isFilterClick = event.target.closest('.filterable') || event.target.closest('.filter-dropdown');
            const isColumnVisClick = event.target.closest('.column-visibility-dropdown');
            
            if (!isFilterClick) {
                document.querySelectorAll('.filter-dropdown').forEach(dd => {
                    dd.style.display = 'none';
                });
            }
            
            if (!isColumnVisClick) {
                document.getElementById('columnVisibilityDropdown').classList.remove('show');
            }
        });
        
        // Initialize Bootstrap tooltips
        function initializeTooltips() {
            const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]');
            [...tooltipTriggerList].forEach(tooltipTriggerEl => {
                try {
                    // Dispose existing tooltip if any
                    const existingTooltip = bootstrap.Tooltip.getInstance(tooltipTriggerEl);
                    if (existingTooltip) {
                        existingTooltip.dispose();
                    }
                    
                    // Create new tooltip
                    new bootstrap.Tooltip(tooltipTriggerEl, {
                        boundary: document.body,
                        trigger: 'hover focus',
                        container: 'body'
                    });
                } catch (err) {
                    console.error('Error initializing tooltip:', err);
                }
            });
        }
        
        // Initialize tooltips when page loads
        document.addEventListener('DOMContentLoaded', function() {
            initializeTooltips();
        });
    </script>
    
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
